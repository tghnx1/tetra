<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Three.js Cube</title>
  <style>
    body {
      margin: 0;
      background: black;
      font-family: Arial, sans-serif;
      height: 100vh;
      overflow: hidden;
    }
    #main-flex {
      display: flex;
      height: 100vh;
      width: 100vw;
    }
    #three-container {
      width: 50vw;
      height: 100vh;
      position: relative;
      background: black;
      overflow: hidden;
    }
    #overlay-content {
      width: 50vw;
      height: 100vh;
      background: rgba(0,0,0,0.7);
      color: #00ff00;
      display: none;
      z-index: 20;
      overflow: auto;
      font-family: 'Arial Black', sans-serif;
      text-align: center;
      position: relative;
    }
    #overlay-inner {
      margin: 40px auto;
      max-width: 90%;
    }
    #show-overlay {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 10;
    }
  </style>
</head>
<body>
<div id="main-flex">
  <div id="three-container"></div>
  <div id="overlay-content">
    <button onclick="document.getElementById('overlay-content').style.display='none'" style="margin:20px;font-size:2em;">âœ•</button>
    <div id="overlay-inner"></div>
  </div>
</div>
<script type="module">
  import * as THREE from 'https://unpkg.com/three@0.157.0/build/three.module.js';
  import { scene, camera } from './Scripts/scene.js';
  import { animate } from './Scripts/animate.js';
  import { registerEventListeners } from './Scripts/controls.js';

  // Use the left container for Three.js
  const threeContainer = document.getElementById('three-container');
  const renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(threeContainer.clientWidth, threeContainer.clientHeight);
  renderer.setPixelRatio(window.devicePixelRatio);
  threeContainer.appendChild(renderer.domElement);

  // Register controls and event listeners
  registerEventListeners(renderer);

  // Animation loop
  renderer.setAnimationLoop(() => animate(renderer, scene, camera));

  // Handle resizing
  window.addEventListener('resize', () => {
    renderer.setSize(threeContainer.clientWidth, threeContainer.clientHeight);
    camera.aspect = threeContainer.clientWidth / threeContainer.clientHeight;
    camera.updateProjectionMatrix();
  });
</script>
</body>
</html>